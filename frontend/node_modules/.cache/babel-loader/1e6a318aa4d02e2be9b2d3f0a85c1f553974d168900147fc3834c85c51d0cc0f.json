{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Inventory=()=>{const[itemId,setItemId]=useState(\"\");const[quantity,setQuantity]=useState(\"\");const[inventoryList,setInventoryList]=useState([]);const navigate=useNavigate();useEffect(()=>{viewInventory();},[]);const viewInventory=async()=>{try{const res=await axios.get(\"http://localhost:5050/api/inventory\");setInventoryList(res.data);}catch(err){alert(\"‚ùå Failed to fetch inventory\");}};const addInventory=async()=>{if(!itemId||!quantity){alert(\"Please fill in both fields.\");return;}try{await axios.post(\"http://localhost:5050/api/inventory/add\",{menuitemid:itemId,quantity:quantity});alert(\"‚úÖ Inventory added successfully!\");setItemId(\"\");setQuantity(\"\");viewInventory();}catch(err){alert(\"‚ùå Failed to add inventory.\");}};const updateInventory=async()=>{if(!itemId||!quantity){alert(\"Please fill in both fields.\");return;}try{await axios.post(\"http://localhost:5050/api/inventory/update\",{inventoryid:itemId,quantity:quantity});alert(\"‚úÖ Inventory updated successfully!\");viewInventory();}catch(err){alert(\"‚ùå Failed to update inventory.\");}};const deleteInventory=async()=>{if(!itemId){alert(\"Please enter an Item ID to delete.\");return;}try{await axios.delete(\"http://localhost:5050/api/inventory/delete\",{data:{inventoryid:itemId}});alert(\"‚úÖ Inventory deleted successfully!\");viewInventory();}catch(err){alert(\"‚ùå Failed to delete inventory.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 px-6 py-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-green-700 mb-6\",children:\"\\uD83D\\uDCE6 Inventory Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Item ID\",value:itemId,onChange:e=>setItemId(e.target.value),className:\"border border-gray-300 rounded px-3 py-2 w-full\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Quantity\",value:quantity,onChange:e=>setQuantity(e.target.value),className:\"border border-gray-300 rounded px-3 py-2 w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-3 mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:addInventory,className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u2795 Add Inventory\"}),/*#__PURE__*/_jsx(\"button\",{onClick:updateInventory,className:\"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600\",children:\"\\uD83D\\uDD04 Update Inventory\"}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteInventory,className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",children:\"\\u274C Delete Inventory\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/manager\"),className:\"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500\",children:\"\\u2B05\\uFE0F Back to Manager\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-700 mb-2\",children:\"\\uD83D\\uDCCB Current Inventory\"}),inventoryList.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No inventory records available.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full table-auto border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-2 text-left font-semibold\",children:\"Inventory ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-2 text-left font-semibold\",children:\"Item ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-2 text-left font-semibold\",children:\"Quantity\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:inventoryList.map(item=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:item.inventoryid}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:item.menuitemid}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:item.quantity})]},item.inventoryid))})]})})]});};export default Inventory;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Inventory","itemId","setItemId","quantity","setQuantity","inventoryList","setInventoryList","navigate","viewInventory","res","get","data","err","alert","addInventory","post","menuitemid","updateInventory","inventoryid","deleteInventory","delete","className","children","type","placeholder","value","onChange","e","target","onClick","length","map","item"],"sources":["/Users/faqiangmei/Desktop/react-fix-test/frontend/src/components/Inventory.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Inventory = () => {\n  const [itemId, setItemId] = useState(\"\");\n  const [quantity, setQuantity] = useState(\"\");\n  const [inventoryList, setInventoryList] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    viewInventory();\n  }, []);\n\n  const viewInventory = async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5050/api/inventory\");\n      setInventoryList(res.data);\n    } catch (err) {\n      alert(\"‚ùå Failed to fetch inventory\");\n    }\n  };\n\n  const addInventory = async () => {\n    if (!itemId || !quantity) {\n      alert(\"Please fill in both fields.\");\n      return;\n    }\n\n    try {\n      await axios.post(\"http://localhost:5050/api/inventory/add\", {\n        menuitemid: itemId,\n        quantity: quantity,\n      });\n      alert(\"‚úÖ Inventory added successfully!\");\n      setItemId(\"\");\n      setQuantity(\"\");\n      viewInventory();\n    } catch (err) {\n      alert(\"‚ùå Failed to add inventory.\");\n    }\n  };\n\n  const updateInventory = async () => {\n    if (!itemId || !quantity) {\n      alert(\"Please fill in both fields.\");\n      return;\n    }\n\n    try {\n      await axios.post(\"http://localhost:5050/api/inventory/update\", {\n        inventoryid: itemId,\n        quantity: quantity,\n      });\n      alert(\"‚úÖ Inventory updated successfully!\");\n      viewInventory();\n    } catch (err) {\n      alert(\"‚ùå Failed to update inventory.\");\n    }\n  };\n\n  const deleteInventory = async () => {\n    if (!itemId) {\n      alert(\"Please enter an Item ID to delete.\");\n      return;\n    }\n\n    try {\n      await axios.delete(\"http://localhost:5050/api/inventory/delete\", {\n        data: { inventoryid: itemId },\n      });\n      alert(\"‚úÖ Inventory deleted successfully!\");\n      viewInventory();\n    } catch (err) {\n      alert(\"‚ùå Failed to delete inventory.\");\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 px-6 py-8\">\n      <h2 className=\"text-2xl font-bold text-green-700 mb-6\">üì¶ Inventory Management</h2>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Item ID\"\n          value={itemId}\n          onChange={(e) => setItemId(e.target.value)}\n          className=\"border border-gray-300 rounded px-3 py-2 w-full\"\n        />\n        <input\n          type=\"number\"\n          placeholder=\"Quantity\"\n          value={quantity}\n          onChange={(e) => setQuantity(e.target.value)}\n          className=\"border border-gray-300 rounded px-3 py-2 w-full\"\n        />\n      </div>\n\n      <div className=\"flex flex-wrap gap-3 mb-6\">\n        <button\n          onClick={addInventory}\n          className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\n        >\n          ‚ûï Add Inventory\n        </button>\n        <button\n          onClick={updateInventory}\n          className=\"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600\"\n        >\n          üîÑ Update Inventory\n        </button>\n        <button\n          onClick={deleteInventory}\n          className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\n        >\n          ‚ùå Delete Inventory\n        </button>\n        <button\n          onClick={() => navigate(\"/manager\")}\n          className=\"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500\"\n        >\n          ‚¨ÖÔ∏è Back to Manager\n        </button>\n      </div>\n\n      <h3 className=\"text-xl font-semibold text-gray-700 mb-2\">üìã Current Inventory</h3>\n      {inventoryList.length === 0 ? (\n        <p className=\"text-gray-500\">No inventory records available.</p>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full table-auto border border-gray-300\">\n            <thead className=\"bg-gray-100\">\n              <tr>\n                <th className=\"border px-4 py-2 text-left font-semibold\">Inventory ID</th>\n                <th className=\"border px-4 py-2 text-left font-semibold\">Item ID</th>\n                <th className=\"border px-4 py-2 text-left font-semibold\">Quantity</th>\n              </tr>\n            </thead>\n            <tbody>\n              {inventoryList.map((item) => (\n                <tr key={item.inventoryid} className=\"hover:bg-gray-50\">\n                  <td className=\"border px-4 py-2\">{item.inventoryid}</td>\n                  <td className=\"border px-4 py-2\">{item.menuitemid}</td>\n                  <td className=\"border px-4 py-2\">{item.quantity}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Inventory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}