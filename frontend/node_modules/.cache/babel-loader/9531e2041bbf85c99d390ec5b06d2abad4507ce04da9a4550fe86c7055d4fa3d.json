{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import axios from\"axios\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const MenuItemSelectionPage=()=>{const{category}=useParams();const[items,setItems]=useState([]);const[cart,setCart]=useState([]);const navigate=useNavigate();useEffect(()=>{const fetchItems=async()=>{try{const res=await axios.get(\"http://localhost:5050/api/menu\");setItems(res.data.filter(item=>item.itemname.toLowerCase().includes(category.toLowerCase())));}catch(err){console.error(\"Error fetching menu items:\",err);}};fetchItems();},[category]);const handleCustomize=item=>{const sugar=prompt(\"Select Sugar Level (e.g. No Sugar, 30%, 50%, 70%, 100%)\",\"50%\");if(!sugar)return;const ice=prompt(\"Select Ice Level (e.g. No Ice, Less Ice, Normal Ice, Hot)\",\"Normal Ice\");if(!ice)return;const topping=prompt(\"Select Topping (e.g. Boba, Lychee Jelly, Pearls, None)\",\"Boba\");if(!topping)return;const orderItem={...item,customization:`Sugar: ${sugar} | Ice: ${ice} | Topping: ${topping}`};const newCart=[...cart,orderItem];setCart(newCart);localStorage.setItem(\"cart\",JSON.stringify(newCart));alert(`${item.itemname} added to cart!`);};const goBack=()=>{navigate(-1);};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\"},children:[/*#__PURE__*/_jsxs(\"h2\",{children:[category,\" Menu\"]}),items.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No items available.\"}):/*#__PURE__*/_jsx(\"ul\",{children:items.map(item=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:item.itemname}),\" \\u2014 $\",Number(item.itemprice).toFixed(2),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{children:[\"Ingredients: \",item.ingredients.join(\", \")]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCustomize(item),children:\"Customize & Add\"})]},item.itemid))}),/*#__PURE__*/_jsx(\"button\",{onClick:goBack,style:{marginTop:\"20px\"},children:\"Back\"})]});};export default MenuItemSelectionPage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","axios","jsxs","_jsxs","jsx","_jsx","MenuItemSelectionPage","category","items","setItems","cart","setCart","navigate","fetchItems","res","get","data","filter","item","itemname","toLowerCase","includes","err","console","error","handleCustomize","sugar","prompt","ice","topping","orderItem","customization","newCart","localStorage","setItem","JSON","stringify","alert","goBack","style","padding","children","length","map","marginBottom","Number","itemprice","toFixed","ingredients","join","onClick","itemid","marginTop"],"sources":["/Users/faqiangmei/Desktop/react-fix-test/frontend/src/components/MenuItemSelectionPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst MenuItemSelectionPage = () => {\n  const { category } = useParams();\n  const [items, setItems] = useState([]);\n  const [cart, setCart] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchItems = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:5050/api/menu\");\n        setItems(\n          res.data.filter((item) =>\n            item.itemname.toLowerCase().includes(category.toLowerCase())\n          )\n        );\n      } catch (err) {\n        console.error(\"Error fetching menu items:\", err);\n      }\n    };\n    fetchItems();\n  }, [category]);\n\n  const handleCustomize = (item) => {\n    const sugar = prompt(\"Select Sugar Level (e.g. No Sugar, 30%, 50%, 70%, 100%)\", \"50%\");\n    if (!sugar) return;\n    const ice = prompt(\"Select Ice Level (e.g. No Ice, Less Ice, Normal Ice, Hot)\", \"Normal Ice\");\n    if (!ice) return;\n    const topping = prompt(\"Select Topping (e.g. Boba, Lychee Jelly, Pearls, None)\", \"Boba\");\n    if (!topping) return;\n\n    const orderItem = {\n      ...item,\n      customization: `Sugar: ${sugar} | Ice: ${ice} | Topping: ${topping}`,\n    };\n\n    const newCart = [...cart, orderItem];\n    setCart(newCart);\n    localStorage.setItem(\"cart\", JSON.stringify(newCart));\n    alert(`${item.itemname} added to cart!`);\n  };\n\n  const goBack = () => {\n    navigate(-1);\n  };\n\n  return (\n    <div style={{ padding: \"20px\" }}>\n      <h2>{category} Menu</h2>\n      {items.length === 0 ? (\n        <p>No items available.</p>\n      ) : (\n        <ul>\n          {items.map((item) => (\n            <li key={item.itemid} style={{ marginBottom: \"15px\" }}>\n              <strong>{item.itemname}</strong> â€” ${Number(item.itemprice).toFixed(2)}\n<br />\n\n              <small>Ingredients: {item.ingredients.join(\", \")}</small><br />\n              <button onClick={() => handleCustomize(item)}>Customize & Add</button>\n            </li>\n          ))}\n        </ul>\n      )}\n      <button onClick={goBack} style={{ marginTop: \"20px\" }}>Back</button>\n    </div>\n  );\n};\n\nexport default MenuItemSelectionPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}