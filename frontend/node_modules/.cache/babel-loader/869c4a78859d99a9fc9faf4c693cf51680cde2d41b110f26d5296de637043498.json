{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Employee=()=>{const[id,setId]=useState(\"\");const[name,setName]=useState(\"\");const[password,setPassword]=useState(\"\");const[role,setRole]=useState(\"\");const[employeeList,setEmployeeList]=useState([]);const navigate=useNavigate();useEffect(()=>{viewEmployees();},[]);const viewEmployees=async()=>{try{const response=await axios.get(\"http://localhost:5050/api/employees\");setEmployeeList(response.data);}catch(error){console.error(\"Failed to fetch employees:\",error);}};const addEmployee=async()=>{try{await axios.post(\"http://localhost:5050/api/employees\",{employeename:name,employeepassword:password,employeetype:role});alert(\"✅ Employee added successfully!\");viewEmployees();}catch(error){console.error(\"Failed to add employee:\",error);}};const updateEmployee=async()=>{try{await axios.put(`http://localhost:5050/api/employees/${id}`,{employeename:name,employeepassword:password,employeetype:role});alert(\"✅ Employee updated successfully!\");viewEmployees();}catch(error){console.error(\"Failed to update employee:\",error);}};const deleteEmployee=async()=>{try{await axios.delete(`http://localhost:5050/api/employees/${id}`);alert(\"✅ Employee deleted successfully!\");viewEmployees();}catch(error){console.error(\"Failed to delete employee:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-green-700 mb-6 text-center\",children:\"\\uD83D\\uDC65 Employee Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded p-6 mb-6 max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Employee ID\",value:id,onChange:e=>setId(e.target.value),className:\"border px-3 py-2 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Employee Name\",value:name,onChange:e=>setName(e.target.value),className:\"border px-3 py-2 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Employee Password\",value:password,onChange:e=>setPassword(e.target.value),className:\"border px-3 py-2 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Employee Role\",value:role,onChange:e=>setRole(e.target.value),className:\"border px-3 py-2 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:addEmployee,className:\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded\",children:\"\\u2795 Add\"}),/*#__PURE__*/_jsx(\"button\",{onClick:updateEmployee,className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded\",children:\"\\uD83D\\uDD04 Update\"}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteEmployee,className:\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded\",children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded p-6 max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:\"\\uD83D\\uDCCB Employee List\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table-auto w-full border border-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-2\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border px-4 py-2\",children:\"Role\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[employeeList.map(emp=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2 text-center\",children:emp.employeeid}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:emp.employeename}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:emp.employeetype})]},emp.employeeid)),employeeList.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",className:\"text-center text-gray-500 py-4\",children:\"No employees found\"})})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/manager\"),className:\"px-6 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\",children:\"\\u2B05\\uFE0F Back to Manager\"})})]});};export default Employee;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Employee","id","setId","name","setName","password","setPassword","role","setRole","employeeList","setEmployeeList","navigate","viewEmployees","response","get","data","error","console","addEmployee","post","employeename","employeepassword","employeetype","alert","updateEmployee","put","deleteEmployee","delete","className","children","type","placeholder","value","onChange","e","target","onClick","map","emp","employeeid","length","colSpan"],"sources":["/Users/faqiangmei/Desktop/react-fix-test/frontend/src/components/Employee.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Employee = () => {\n  const [id, setId] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"\");\n  const [employeeList, setEmployeeList] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    viewEmployees();\n  }, []);\n\n  const viewEmployees = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:5050/api/employees\");\n      setEmployeeList(response.data);\n    } catch (error) {\n      console.error(\"Failed to fetch employees:\", error);\n    }\n  };\n\n  const addEmployee = async () => {\n    try {\n      await axios.post(\"http://localhost:5050/api/employees\", {\n        employeename: name,\n        employeepassword: password,\n        employeetype: role,\n      });\n      alert(\"✅ Employee added successfully!\");\n      viewEmployees();\n    } catch (error) {\n      console.error(\"Failed to add employee:\", error);\n    }\n  };\n\n  const updateEmployee = async () => {\n    try {\n      await axios.put(`http://localhost:5050/api/employees/${id}`, {\n        employeename: name,\n        employeepassword: password,\n        employeetype: role,\n      });\n      alert(\"✅ Employee updated successfully!\");\n      viewEmployees();\n    } catch (error) {\n      console.error(\"Failed to update employee:\", error);\n    }\n  };\n\n  const deleteEmployee = async () => {\n    try {\n      await axios.delete(`http://localhost:5050/api/employees/${id}`);\n      alert(\"✅ Employee deleted successfully!\");\n      viewEmployees();\n    } catch (error) {\n      console.error(\"Failed to delete employee:\", error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <h2 className=\"text-2xl font-bold text-green-700 mb-6 text-center\">👥 Employee Management</h2>\n\n      <div className=\"bg-white shadow-md rounded p-6 mb-6 max-w-3xl mx-auto\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Employee ID\"\n            value={id}\n            onChange={(e) => setId(e.target.value)}\n            className=\"border px-3 py-2 rounded\"\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Employee Name\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            className=\"border px-3 py-2 rounded\"\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Employee Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"border px-3 py-2 rounded\"\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Employee Role\"\n            value={role}\n            onChange={(e) => setRole(e.target.value)}\n            className=\"border px-3 py-2 rounded\"\n          />\n        </div>\n\n        <div className=\"flex flex-wrap gap-4 justify-center\">\n          <button onClick={addEmployee} className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded\">\n            ➕ Add\n          </button>\n          <button onClick={updateEmployee} className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded\">\n            🔄 Update\n          </button>\n          <button onClick={deleteEmployee} className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded\">\n            🗑️ Delete\n          </button>\n        </div>\n      </div>\n\n      <div className=\"bg-white shadow-md rounded p-6 max-w-4xl mx-auto\">\n        <h3 className=\"text-xl font-semibold mb-4\">📋 Employee List</h3>\n        <div className=\"overflow-x-auto\">\n          <table className=\"table-auto w-full border border-gray-200\">\n            <thead className=\"bg-gray-100\">\n              <tr>\n                <th className=\"border px-4 py-2\">ID</th>\n                <th className=\"border px-4 py-2\">Name</th>\n                <th className=\"border px-4 py-2\">Role</th>\n              </tr>\n            </thead>\n            <tbody>\n              {employeeList.map((emp) => (\n                <tr key={emp.employeeid} className=\"hover:bg-gray-50\">\n                  <td className=\"border px-4 py-2 text-center\">{emp.employeeid}</td>\n                  <td className=\"border px-4 py-2\">{emp.employeename}</td>\n                  <td className=\"border px-4 py-2\">{emp.employeetype}</td>\n                </tr>\n              ))}\n              {employeeList.length === 0 && (\n                <tr>\n                  <td colSpan=\"3\" className=\"text-center text-gray-500 py-4\">\n                    No employees found\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      <div className=\"text-center mt-6\">\n        <button\n          onClick={() => navigate(\"/manager\")}\n          className=\"px-6 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\"\n        >\n          ⬅️ Back to Manager\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Employee;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,EAAE,CAAEC,KAAK,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAChC,KAAM,CAACW,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACe,IAAI,CAAEC,OAAO,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACiB,YAAY,CAAEC,eAAe,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAAmB,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACdmB,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAACoB,GAAG,CAAC,qCAAqC,CAAC,CACvEJ,eAAe,CAACG,QAAQ,CAACE,IAAI,CAAC,CAChC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CACF,CAAC,CAED,KAAM,CAAAE,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAxB,KAAK,CAACyB,IAAI,CAAC,qCAAqC,CAAE,CACtDC,YAAY,CAAEjB,IAAI,CAClBkB,gBAAgB,CAAEhB,QAAQ,CAC1BiB,YAAY,CAAEf,IAChB,CAAC,CAAC,CACFgB,KAAK,CAAC,gCAAgC,CAAC,CACvCX,aAAa,CAAC,CAAC,CACjB,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAQ,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF,KAAM,CAAA9B,KAAK,CAAC+B,GAAG,CAAC,uCAAuCxB,EAAE,EAAE,CAAE,CAC3DmB,YAAY,CAAEjB,IAAI,CAClBkB,gBAAgB,CAAEhB,QAAQ,CAC1BiB,YAAY,CAAEf,IAChB,CAAC,CAAC,CACFgB,KAAK,CAAC,kCAAkC,CAAC,CACzCX,aAAa,CAAC,CAAC,CACjB,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CACF,CAAC,CAED,KAAM,CAAAU,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF,KAAM,CAAAhC,KAAK,CAACiC,MAAM,CAAC,uCAAuC1B,EAAE,EAAE,CAAC,CAC/DsB,KAAK,CAAC,kCAAkC,CAAC,CACzCX,aAAa,CAAC,CAAC,CACjB,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CACF,CAAC,CAED,mBACEjB,KAAA,QAAK6B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1ChC,IAAA,OAAI+B,SAAS,CAAC,oDAAoD,CAAAC,QAAA,CAAC,kCAAsB,CAAI,CAAC,cAE9F9B,KAAA,QAAK6B,SAAS,CAAC,uDAAuD,CAAAC,QAAA,eACpE9B,KAAA,QAAK6B,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzDhC,IAAA,UACEiC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,aAAa,CACzBC,KAAK,CAAE/B,EAAG,CACVgC,QAAQ,CAAGC,CAAC,EAAKhC,KAAK,CAACgC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACvCJ,SAAS,CAAC,0BAA0B,CACrC,CAAC,cACF/B,IAAA,UACEiC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,eAAe,CAC3BC,KAAK,CAAE7B,IAAK,CACZ8B,QAAQ,CAAGC,CAAC,EAAK9B,OAAO,CAAC8B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACzCJ,SAAS,CAAC,0BAA0B,CACrC,CAAC,cACF/B,IAAA,UACEiC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,mBAAmB,CAC/BC,KAAK,CAAE3B,QAAS,CAChB4B,QAAQ,CAAGC,CAAC,EAAK5B,WAAW,CAAC4B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7CJ,SAAS,CAAC,0BAA0B,CACrC,CAAC,cACF/B,IAAA,UACEiC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,eAAe,CAC3BC,KAAK,CAAEzB,IAAK,CACZ0B,QAAQ,CAAGC,CAAC,EAAK1B,OAAO,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACzCJ,SAAS,CAAC,0BAA0B,CACrC,CAAC,EACC,CAAC,cAEN7B,KAAA,QAAK6B,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDhC,IAAA,WAAQuC,OAAO,CAAElB,WAAY,CAACU,SAAS,CAAC,8DAA8D,CAAAC,QAAA,CAAC,YAEvG,CAAQ,CAAC,cACThC,IAAA,WAAQuC,OAAO,CAAEZ,cAAe,CAACI,SAAS,CAAC,4DAA4D,CAAAC,QAAA,CAAC,qBAExG,CAAQ,CAAC,cACThC,IAAA,WAAQuC,OAAO,CAAEV,cAAe,CAACE,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CAAC,2BAEtG,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAEN9B,KAAA,QAAK6B,SAAS,CAAC,kDAAkD,CAAAC,QAAA,eAC/DhC,IAAA,OAAI+B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,4BAAgB,CAAI,CAAC,cAChEhC,IAAA,QAAK+B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B9B,KAAA,UAAO6B,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACzDhC,IAAA,UAAO+B,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC5B9B,KAAA,OAAA8B,QAAA,eACEhC,IAAA,OAAI+B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,IAAE,CAAI,CAAC,cACxChC,IAAA,OAAI+B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,cAC1ChC,IAAA,OAAI+B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,MAAI,CAAI,CAAC,EACxC,CAAC,CACA,CAAC,cACR9B,KAAA,UAAA8B,QAAA,EACGpB,YAAY,CAAC4B,GAAG,CAAEC,GAAG,eACpBvC,KAAA,OAAyB6B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eACnDhC,IAAA,OAAI+B,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAES,GAAG,CAACC,UAAU,CAAK,CAAC,cAClE1C,IAAA,OAAI+B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAES,GAAG,CAAClB,YAAY,CAAK,CAAC,cACxDvB,IAAA,OAAI+B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAES,GAAG,CAAChB,YAAY,CAAK,CAAC,GAHjDgB,GAAG,CAACC,UAIT,CACL,CAAC,CACD9B,YAAY,CAAC+B,MAAM,GAAK,CAAC,eACxB3C,IAAA,OAAAgC,QAAA,cACEhC,IAAA,OAAI4C,OAAO,CAAC,GAAG,CAACb,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,oBAE3D,CAAI,CAAC,CACH,CACL,EACI,CAAC,EACH,CAAC,CACL,CAAC,EACH,CAAC,cAENhC,IAAA,QAAK+B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BhC,IAAA,WACEuC,OAAO,CAAEA,CAAA,GAAMzB,QAAQ,CAAC,UAAU,CAAE,CACpCiB,SAAS,CAAC,4DAA4D,CAAAC,QAAA,CACvE,8BAED,CAAQ,CAAC,CACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}