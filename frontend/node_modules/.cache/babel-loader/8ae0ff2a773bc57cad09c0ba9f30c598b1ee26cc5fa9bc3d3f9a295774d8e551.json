{"ast":null,"code":"var _jsxFileName = \"/Users/faqiangmei/Desktop/react-fix-test/frontend/src/components/Trends.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Trends = () => {\n  _s();\n  const [trendData, setTrendData] = useState([]);\n  const [trendType, setTrendType] = useState(\"Daily Sales\");\n  const [timeRange, setTimeRange] = useState(\"Last 7 Days\");\n  const navigate = useNavigate();\n\n  // 使用 useCallback 来记住 fetchTrendData 函数，避免每次渲染都重新定义\n  const fetchTrendData = useCallback(async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5050/api/trends\", {\n        params: {\n          trendType,\n          timeRange\n        }\n      });\n      setTrendData(res.data);\n    } catch (err) {\n      alert(\"❌ Failed to fetch trends\");\n    }\n  }, [trendType, timeRange]); // 依赖 trendType 和 timeRange\n\n  useEffect(() => {\n    fetchTrendData();\n  }, [fetchTrendData]); // 依赖 fetchTrendData\n\n  const handleTrendTypeChange = e => {\n    setTrendType(e.target.value);\n  };\n  const handleTimeRangeChange = e => {\n    setTimeRange(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCCA Trends Report\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleTrendTypeChange,\n        value: trendType,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Daily Sales\",\n          children: \"Daily Sales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Peak Days\",\n          children: \"Peak Days\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Total Orders\",\n          children: \"Total Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Product Usage\",\n          children: \"Product Usage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleTimeRangeChange,\n        value: timeRange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Last 7 Days\",\n          children: \"Last 7 Days\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Last 30 Days\",\n          children: \"Last 30 Days\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"All Time\",\n          children: \"All Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [trendType, \" (\", timeRange, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        border: \"1\",\n        style: {\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Value\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: trendData.map((data, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: data.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: data.value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        marginTop: \"20px\"\n      },\n      onClick: () => navigate(\"/manager\"),\n      children: \"\\u2B05\\uFE0F Back to Manager\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(Trends, \"d6MEbb0nW1Zc1J9OYrvgQiGLFDQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Trends;\nexport default Trends;\nvar _c;\n$RefreshReg$(_c, \"Trends\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useNavigate","jsxDEV","_jsxDEV","Trends","_s","trendData","setTrendData","trendType","setTrendType","timeRange","setTimeRange","navigate","fetchTrendData","res","get","params","data","err","alert","handleTrendTypeChange","e","target","value","handleTimeRangeChange","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","border","width","map","index","date","marginTop","onClick","_c","$RefreshReg$"],"sources":["/Users/faqiangmei/Desktop/react-fix-test/frontend/src/components/Trends.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Trends = () => {\n  const [trendData, setTrendData] = useState([]);\n  const [trendType, setTrendType] = useState(\"Daily Sales\");\n  const [timeRange, setTimeRange] = useState(\"Last 7 Days\");\n  const navigate = useNavigate();\n\n  // 使用 useCallback 来记住 fetchTrendData 函数，避免每次渲染都重新定义\n  const fetchTrendData = useCallback(async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5050/api/trends\", {\n        params: {\n          trendType,\n          timeRange,\n        },\n      });\n      setTrendData(res.data);\n    } catch (err) {\n      alert(\"❌ Failed to fetch trends\");\n    }\n  }, [trendType, timeRange]); // 依赖 trendType 和 timeRange\n\n  useEffect(() => {\n    fetchTrendData();\n  }, [fetchTrendData]); // 依赖 fetchTrendData\n\n  const handleTrendTypeChange = (e) => {\n    setTrendType(e.target.value);\n  };\n\n  const handleTimeRangeChange = (e) => {\n    setTimeRange(e.target.value);\n  };\n\n  return (\n    <div style={{ padding: \"20px\" }}>\n      <h2>📊 Trends Report</h2>\n\n      <div>\n        <select onChange={handleTrendTypeChange} value={trendType}>\n          <option value=\"Daily Sales\">Daily Sales</option>\n          <option value=\"Peak Days\">Peak Days</option>\n          <option value=\"Total Orders\">Total Orders</option>\n          <option value=\"Product Usage\">Product Usage</option>\n        </select>\n\n        <select onChange={handleTimeRangeChange} value={timeRange}>\n          <option value=\"Last 7 Days\">Last 7 Days</option>\n          <option value=\"Last 30 Days\">Last 30 Days</option>\n          <option value=\"All Time\">All Time</option>\n        </select>\n      </div>\n\n      <div>\n        <h3>{trendType} ({timeRange})</h3>\n        <table border=\"1\" style={{ width: \"100%\" }}>\n          <thead>\n            <tr>\n              <th>Date</th>\n              <th>Value</th>\n            </tr>\n          </thead>\n          <tbody>\n            {trendData.map((data, index) => (\n              <tr key={index}>\n                <td>{data.date}</td>\n                <td>{data.value}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      <button style={{ marginTop: \"20px\" }} onClick={() => navigate(\"/manager\")}>\n        ⬅️ Back to Manager\n      </button>\n    </div>\n  );\n};\n\nexport default Trends;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}