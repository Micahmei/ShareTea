{"ast":null,"code":"var _jsxFileName = \"/Users/faqiangmei/Desktop/react-fix-test/frontend/src/components/OrderHistory.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderHistory = () => {\n  _s();\n  const [transactions, setTransactions] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  useEffect(() => {\n    fetchTransactions();\n  }, []);\n  const fetchTransactions = async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5050/api/transactions\");\n      // 按 id 倒序排列\n      const sorted = res.data.sort((a, b) => b.id - a.id);\n      setTransactions(sorted);\n    } catch (err) {\n      console.error(\"❌ Failed to fetch transactions:\", err);\n    }\n  };\n  const filteredTransactions = transactions.filter(txn => Object.values(txn).some(value => String(value).toLowerCase().includes(searchTerm.toLowerCase())));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 bg-gray-50 min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-blue-700 mb-4\",\n      children: \"\\uD83D\\uDCCB Order History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search by payment method, category, ID...\",\n      value: searchTerm,\n      onChange: e => setSearchTerm(e.target.value),\n      className: \"mb-4 px-4 py-2 border border-gray-300 rounded w-full max-w-md\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), filteredTransactions.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No transaction records found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full border-collapse border border-gray-300 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-blue-100\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 border\",\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 border\",\n              children: \"Sale ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 border\",\n              children: \"Menu Item ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 border\",\n              children: \"Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 border\",\n              children: \"Price ($)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 border\",\n              children: \"Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2 border\",\n              children: \"Transaction Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: filteredTransactions.map(txn => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"hover:bg-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 border\",\n              children: txn.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 border\",\n              children: txn.sale_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 border\",\n              children: txn.menu_item_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 border\",\n              children: txn.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 border\",\n              children: parseFloat(txn.price).toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 border\",\n              children: txn.paymentmethod\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2 border\",\n              children: txn.transactioncategory\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this)]\n          }, txn.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderHistory, \"o7QggG5bme7bzQmlopXQtYE73iI=\");\n_c = OrderHistory;\nexport default OrderHistory;\nvar _c;\n$RefreshReg$(_c, \"OrderHistory\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","OrderHistory","_s","transactions","setTransactions","searchTerm","setSearchTerm","fetchTransactions","res","get","sorted","data","sort","a","b","id","err","console","error","filteredTransactions","filter","txn","Object","values","some","value","String","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","length","map","sale_id","menu_item_id","quantity","parseFloat","price","toFixed","paymentmethod","transactioncategory","_c","$RefreshReg$"],"sources":["/Users/faqiangmei/Desktop/react-fix-test/frontend/src/components/OrderHistory.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst OrderHistory = () => {\n  const [transactions, setTransactions] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  useEffect(() => {\n    fetchTransactions();\n  }, []);\n\n  const fetchTransactions = async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5050/api/transactions\");\n      // 按 id 倒序排列\n      const sorted = res.data.sort((a, b) => b.id - a.id);\n      setTransactions(sorted);\n    } catch (err) {\n      console.error(\"❌ Failed to fetch transactions:\", err);\n    }\n  };\n\n  const filteredTransactions = transactions.filter((txn) =>\n    Object.values(txn).some((value) =>\n      String(value).toLowerCase().includes(searchTerm.toLowerCase())\n    )\n  );\n\n  return (\n    <div className=\"p-6 bg-gray-50 min-h-screen\">\n      <h2 className=\"text-2xl font-bold text-blue-700 mb-4\">📋 Order History</h2>\n\n      <input\n        type=\"text\"\n        placeholder=\"Search by payment method, category, ID...\"\n        value={searchTerm}\n        onChange={(e) => setSearchTerm(e.target.value)}\n        className=\"mb-4 px-4 py-2 border border-gray-300 rounded w-full max-w-md\"\n      />\n\n      {filteredTransactions.length === 0 ? (\n        <p>No transaction records found.</p>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full border-collapse border border-gray-300 text-sm\">\n            <thead className=\"bg-blue-100\">\n              <tr>\n                <th className=\"p-2 border\">ID</th>\n                <th className=\"p-2 border\">Sale ID</th>\n                <th className=\"p-2 border\">Menu Item ID</th>\n                <th className=\"p-2 border\">Quantity</th>\n                <th className=\"p-2 border\">Price ($)</th>\n                <th className=\"p-2 border\">Payment Method</th>\n                <th className=\"p-2 border\">Transaction Category</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredTransactions.map((txn) => (\n                <tr key={txn.id} className=\"hover:bg-gray-100\">\n                  <td className=\"p-2 border\">{txn.id}</td>\n                  <td className=\"p-2 border\">{txn.sale_id}</td>\n                  <td className=\"p-2 border\">{txn.menu_item_id}</td>\n                  <td className=\"p-2 border\">{txn.quantity}</td>\n                  <td className=\"p-2 border\">{parseFloat(txn.price).toFixed(2)}</td>\n                  <td className=\"p-2 border\">{txn.paymentmethod}</td>\n                  <td className=\"p-2 border\">{txn.transactioncategory}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OrderHistory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}